<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
"-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="humanMapper">
	
	<resultMap type="Notice" id="HRnListResultSet">
		<id property="noticeNum" column="notice_num"/>
		<result property="noticeDept" column="notice_dept"/>
		<result property="noticeTitle" column="notice_title"/>
		<result property="noticeContent" column="notice_content"/>
		<result property="empNum" column="emp_num"/>
		<result property="noticeDate" column="notice_date"/>
		<result property="noticeModify" column="notice_modify"/>
		<result property="noticeStatus" column="notice_status"/>
		<result property="noticeAccType" column="notice_acc_type"/>
		
	</resultMap>
	
	<select id="gethListCount" resultType="_int">
		select count(*)
		from notice
		where notice_status = 'Y' and notice_dept = 301
	</select>
	
	<select id="selectHRnList" resultMap="HRnListResultSet">
		select *
		from notice
		join employee using(emp_num)
		where notice_status = 'Y' and notice_dept = 301
		order by notice_num desc
	</select>
	
	<select id="selectNotice" parameterType="string" resultMap="HRnListResultSet">
		select *
		from notice
		join employee using(emp_num)
		where notice_num=#{noticeNum}
	</select>
</mapper>